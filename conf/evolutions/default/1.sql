# --- Created by Slick DDL
# To stop Slick DDL generation, remove this comment and start using Evolutions

# --- !Ups

create table "DIFFICULTY_LEVEL" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"NAME" VARCHAR NOT NULL,"POINTS" INTEGER NOT NULL,"DESCRIPTION" VARCHAR);
create table "DOMAINS" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"NAME" VARCHAR NOT NULL,"DESCRIPTION" VARCHAR);
create table "INTERVIEW_QUESTION" ("SESSION_ID" BIGINT NOT NULL,"QUESTION_ID" BIGINT NOT NULL,"RESPONSE_SATISFACTION_ID" BIGINT NOT NULL,"COMMENT" VARCHAR NOT NULL);
alter table "INTERVIEW_QUESTION" add constraint "iq_pk" primary key("SESSION_ID","QUESTION_ID");
create table "INTERVIEW_SESSION" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"SESSION_DATE" DATE NOT NULL,"INTERVIEWER" VARCHAR NOT NULL,"INTERVIEWEE" VARCHAR NOT NULL,"NB_OF_QUESTIONS" INTEGER NOT NULL,"QUESTION_MODE" VARCHAR NOT NULL,"MAX_DIFFICULTY_LEVEL_ID" BIGINT NOT NULL,"COMMENTS" VARCHAR NOT NULL);
create table "LANGUAGES" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"LANGUAGE" VARCHAR NOT NULL);
create table "QUESTIONS" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"Q" VARCHAR NOT NULL,"A" VARCHAR NOT NULL,"LANGUAGE_ID" BIGINT NOT NULL,"DIFFICULTY_LEVEL_ID" BIGINT NOT NULL,"COMMENT" VARCHAR,"TIMES_ASKED" INTEGER NOT NULL,"LAST_ASKED" DATE);
create table "RESPONSE_SATISFACTION_LEVEL" ("ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,"SATISFACTION_LEVEL" VARCHAR NOT NULL,"POINTS" INTEGER NOT NULL,"COMMENT" VARCHAR);
alter table "INTERVIEW_QUESTION" add constraint "session_fk" foreign key("SESSION_ID") references "INTERVIEW_SESSION"("ID") on update NO ACTION on delete NO ACTION;
alter table "INTERVIEW_QUESTION" add constraint "question_fk" foreign key("SESSION_ID") references "QUESTIONS"("ID") on update NO ACTION on delete NO ACTION;
alter table "INTERVIEW_QUESTION" add constraint "response_fk" foreign key("RESPONSE_SATISFACTION_ID") references "RESPONSE_SATISFACTION_LEVEL"("ID") on update NO ACTION on delete NO ACTION;
alter table "INTERVIEW_SESSION" add constraint "fk_difficultyLevel" foreign key("MAX_DIFFICULTY_LEVEL_ID") references "DIFFICULTY_LEVEL"("ID") on update NO ACTION on delete NO ACTION;
alter table "QUESTIONS" add constraint "FK_DL" foreign key("DIFFICULTY_LEVEL_ID") references "DIFFICULTY_LEVEL"("ID") on update NO ACTION on delete NO ACTION;

# --- !Downs

alter table "INTERVIEW_QUESTION" drop constraint "session_fk";
alter table "INTERVIEW_QUESTION" drop constraint "question_fk";
alter table "INTERVIEW_QUESTION" drop constraint "response_fk";
alter table "INTERVIEW_SESSION" drop constraint "fk_difficultyLevel";
alter table "QUESTIONS" drop constraint "FK_DL";
drop table "DIFFICULTY_LEVEL";
drop table "DOMAINS";
alter table "INTERVIEW_QUESTION" drop constraint "iq_pk";
drop table "INTERVIEW_QUESTION";
drop table "INTERVIEW_SESSION";
drop table "LANGUAGES";
drop table "QUESTIONS";
drop table "RESPONSE_SATISFACTION_LEVEL";

